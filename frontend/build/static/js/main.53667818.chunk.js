(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,a){},40:function(e,t,a){e.exports=a(71)},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),o=a.n(l),s=(a(45),a(3)),c=(a(46),a(47),a(48),a(9)),i=a(11),u=a(7),m=a.n(u),d=function(e){var t=Object(c.f)(),a=Object(n.useState)(e.user),l=Object(s.a)(a,2),o=l[0],u=l[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),g=p[0],h=p[1];return r.a.createElement("div",{className:"containerLogin"},r.a.createElement("h1",{className:"login"}," Login "),r.a.createElement("form",null,r.a.createElement("input",{className:"input",type:"text",name:"username",value:o,placeholder:"Username",autoFocus:!0,id:"UserName",onChange:function(e){u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"password",name:"password",value:g,placeholder:"Password",onChange:function(e){h(e.target.value)}}),r.a.createElement("p",{className:"forgotPassword",style:{cursor:"pointer"}}," Forgot Password ? "),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("button",{className:"Button",type:"submit",onClick:function(a){a.preventDefault(),m.a.post("/login",{username:o,password:g}).then((function(a){console.log(a.data),a.data.username&&alert(a.data.username),a.data.password&&alert(a.data.password),a.data.msg&&alert(a.data.msg),a.data.user?(alert("'Welcome' ".concat(a.data.user)),e.updateUser(a.data.user),localStorage.setItem("token",a.data.token),t.push("/imageUpload")):t.push("/")}))}}," Login "))),r.a.createElement("div",{id:"linkToSignUp"},r.a.createElement("p",null," Don't have an Account ?")," ",r.a.createElement(i.b,{to:"/",id:"link"}," SignUp ")))},p=a(32),g=a(33),h=a(38),f=a(34),E=a(12),b=a(39),v=(a(14),function(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(""),i=Object(s.a)(c,2),u=i[0],d=i[1],p=Object(n.useState)(""),g=Object(s.a)(p,2),h=g[0],f=g[1],E=Object(n.useState)("Choose Image"),b=Object(s.a)(E,2),v=b[0],y=b[1],O=Object(n.useState)(!1),j=Object(s.a)(O,2),w=j[0],k=j[1],x=Object(n.useState)(""),N=Object(s.a)(x,2),U=N[0],S=N[1];return r.a.createElement(n.Fragment,{style:{textAlign:"center"}},r.a.createElement("div",{style:{marginTop:"0rem"}},U?r.a.createElement("div",{class:"alert alert-info alert-dismissible fade show",role:"alert"},r.a.createElement("strong",null,U),r.a.createElement("button",{type:"button",class:"close",onClick:function(){return S("")},"data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):null),r.a.createElement("form",{style:{textAlign:"center"},onSubmit:function(t){t.preventDefault();var a=new FormData;a.append("image",l),l?m.a.post("/imageUpload",a,{headers:{"auth-token":localStorage.getItem("token")}}).then((function(t){if(console.log(t.data),t.data.msg)return e.history.push("/");t.data.imgMsg?(S(t.data.imgMsg),y("Choose Image")):(f(t.data.thum),d(v),y("Choose Image"),k(!0),S("Image Succesfully uploaded."))})).catch((function(e){return console.log(e)})):S("Nothing to Upload")}},r.a.createElement("div",{className:"custom-file",style:{width:"50rem",marginBottom:"0rem"}},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){o(e.target.files[0]),y(e.target.files[0].name)}}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"}," ",v," "),r.a.createElement("input",{type:"submit",value:"Upload",className:"btn btn-primary btn-block mt-1",style:{marginBottom:"0rem"}}))),w?r.a.createElement("div",{style:{textAlign:"center",overflowX:"hidden"}},r.a.createElement("div",{className:"row mt-5",style:{overflowX:"hidden",textAlign:"center",marginBottom:"1rem"}},r.a.createElement("div",{className:"col-md-6 m-auto"},r.a.createElement("h3",{className:"text-center"},u),r.a.createElement("a",{target:"_blank",href:h},r.a.createElement("img",{className:"img-fluid img-thumbnail",style:{width:"15rem",height:"12rem",overflowX:"hidden",cursor:"pointer",borderRadius:"5px"},src:h,alt:"Thumbnail"})))),r.a.createElement("input",{style:{textAlign:"center",marginTop:"1rem",overflowX:"hidden"},type:"button",onClick:function(){k(!1),o(""),S("")},value:"Close",className:"btn btn-primary btn-inline mt-1"})):null)}),y=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).logOut=function(){a.props.updateUser(void 0),localStorage.removeItem("token"),a.props.history.push("/")},a.toDashboard=function(){return a.props.history.push("/dashboard")},a.logOut=a.logOut.bind(Object(E.a)(a)),a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){var e=this;m.a.get("/current",{headers:{"auth-token":localStorage.getItem("token")}}).then((function(t){if(console.log(t.data),!t.data.user)return alert("Login first to proceed ahead"),e.props.updateUser(void 0),e.props.history.push("/");e.props.updateUser(t.data.user)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"welcomeUser"},r.a.createElement("h1",{style:{marginLeft:"10rem",lineHeight:"100px"}},"Welcome ",this.props.user),r.a.createElement("h5",{style:{marginLeft:"40rem"},id:"logout",onClick:this.toDashboard},r.a.createElement("u",null,"Dashboard")),r.a.createElement("h6",{id:"logout",onClick:this.logOut},r.a.createElement("u",null," LogOut "))),r.a.createElement("div",{style:{textAlign:"center",marginTop:"1rem",marginBottom:"0rem"}},r.a.createElement("h4",{className:"display-4 text-center mb-3"},"Upload Image")),r.a.createElement(v,{history:this.props.history}))}}]),t}(n.Component),O=Object(c.g)(y),j=a(17),w=a.n(j),k=a(35),x=a(36),N=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(!0),i=Object(s.a)(c,2),u=i[0],d=i[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){var t=Object(k.a)(w.a.mark((function t(){var a,n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("/getImages",{headers:{"auth-token":localStorage.getItem("token")}});case 3:if((a=t.sent).data.msg)e.history.push("/");else if(0!==a.data.length){for(l.length=0,n=[],r=0;r<a.data.length;r++)n[r]={src:a.data[r],width:6,height:6};o(l.concat(n)),d(!1)}else a.data.imgMsg?alert(a.data.imgMsg,"Please Upload first."):alert("Could not get data from the server.");t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,u?r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-secondary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):null,l?r.a.createElement(x.a,{photos:l}):null)},U=Object(c.g)((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){m.a.get("/current",{headers:{"auth-token":localStorage.getItem("token")}}).then((function(t){if(!t.data.user)return alert("Login first to proceed ahead"),e.updateUser(void 0),e.history.push("/");e.updateUser(t.data.user),o(!0)})).catch((function(e){console.log(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("div",{id:"welcomeUser"},r.a.createElement("h1",{style:{marginLeft:"10rem",lineHeight:"100px"}},"Welcome ",e.user),r.a.createElement("h5",{style:{marginLeft:"40rem"},id:"logout",onClick:function(){return e.history.push("/imageUpload")}},r.a.createElement("u",null," Uploader ")),r.a.createElement("h6",{id:"logout",onClick:function(){e.updateUser(void 0),localStorage.removeItem("token"),e.history.push("/")}},r.a.createElement("u",null," LogOut "))),r.a.createElement("div",{style:{marginBottom:"1rem",display:"inline",textAlign:"center"}},r.a.createElement("h2",{className:"display-4 text-center mb-3"},r.a.createElement("u",null,"Images"))),r.a.createElement("div",{style:{border:"1px solid gray",borderRadius:"5px"}},l?r.a.createElement(N,{history:e.history}):null))}));var S=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],o=function(e){return l(e)};return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:function(){return r.a.createElement(d,{user:a,updateUser:o})}}),r.a.createElement(c.a,{exact:!0,path:"/imageUpload",component:function(){return r.a.createElement(O,{user:a,updateUser:o})}}),r.a.createElement(c.a,{exact:!0,path:"/dashboard",component:function(){return r.a.createElement(U,{user:a,updateUser:o})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.53667818.chunk.js.map